(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{169:function(t,e,r){"use strict";r.r(e);var s=r(0),a=Object(s.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),r("p",[t._v("荒废了半年的vpn，终于在前两天重新搞个东京的vps，跟着这篇"),r("a",{attrs:{href:"https://segmentfault.com/a/1190000006125737",target:"_blank",rel:"noopener noreferrer"}},[t._v("文章"),r("OutboundLink")],1),t._v("搭了起来，居然好了，mac ipad android都可以连上，终于再次连接世界。速度体验了下还比较快，流畅看youtube高清视频，也稳定很多。")]),t._v(" "),r("p",[t._v("比起以前的l2tp，多了一个密钥填写项，看回以前那个"),r("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-setup-your-own-vpn-with-pptp",target:"_blank",rel:"noopener noreferrer"}},[t._v("DigitalOcean的文章"),r("OutboundLink")],1),t._v(" 状态已经是 "),r("em",[t._v("Deprecated")]),t._v(" 了，虽然好过一段时间，但经常会被重置连接，同样是vultr的东京主机，稳定性一般。")]),t._v(" "),t._m(1),t._v(" "),r("ol",[t._m(2),t._v(" "),r("li",[r("p",[t._v("xl2tpd 下载")]),t._v(" "),r("p",[t._v("由于yum没有源，所以需要手动下载一下。\b原文直接就给了链接，觉得搞个新版本可能会好点，就上 "),r("a",{attrs:{href:"http://centos.pkgs.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("centos.pkgs.org"),r("OutboundLink")],1),t._v(" 搜xl2tpd，找到对应的系统版本下载装上")])]),t._v(" "),t._m(3),t._v(" "),t._m(4)]),t._v(" "),t._m(5),t._v(" "),r("p",[t._v("虽然使用这个l2tp使用起来很方便，不用装任何软件，手机\b pc mac 都能直接使用。win10看了下是有自带的智能切换流量的功能，不过mac和手机，就少了这个原生支持。")]),t._v(" "),t._m(6),t._v(" "),r("p",[t._v("小米路由支持l2tp的链接，神奇的是它没有共享密钥的设定，一开始还以为不行。鬼使神差的试了下，居然能连上，我就开始怀疑是不是根本没有用到ipsec。")]),t._v(" "),r("p",[t._v("验证了下，发现之前设置过vpn并填了共享密钥的设备能连上vpn，如果未在设备上设置过密钥就不行。未太明白原理，倒也是稳定可用，足矣。")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"old-time"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#old-time","aria-hidden":"true"}},[this._v("#")]),this._v(" Old time")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"小问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 小问题")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("/etc/ppp/options.xl2tpd")]),this._v(" "),e("p",[this._v("re-mschap-v2，这一行由于用了 vi 来编辑，没先打 i 导致 require 前面几个字母缺失了，发现日志有错，于是google一下。居然也有同道中人，世界真小，错都错得一毛一样")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("日志")]),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd /var/log\ntailf messages\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("来个重启脚本，方便以后定时重启")]),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("ipsec setup restart\nservice xl2tpd restart\nsysctl -p \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"小米路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小米路由","aria-hidden":"true"}},[this._v("#")]),this._v(" 小米路由")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/assets/imgs/mi_route.png",alt:"miroute"}})])}],!1,null,null,null);a.options.__file="l2tp-ipsec.md";e.default=a.exports}}]);